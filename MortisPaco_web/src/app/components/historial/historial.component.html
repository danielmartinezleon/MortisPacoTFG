<main class="flex-grow-1" style="margin-top: 100px;">
  <div class="container">
    <h1 class="mt-4">Compras</h1>

    <h2 class="mt-4">Historial de pedidos</h2>

    <div *ngIf="loading" class="alert alert-info">Cargando historial...</div>
    <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

    <table *ngIf="!loading && historial.length > 0" class="table table-striped">
      <thead>
        <tr>
          <th>ID</th>
          <th>Fecha</th>
          <th>Importe Total</th>
          <th>Detalles</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let venta of historial">
          <td>{{ venta.id }}</td>
          <td>{{ venta.fecha | date: 'shortDate' }}</td>
          <td>{{ venta.importeTotal | currency:'EUR' }}</td>
          <td>
            <a [routerLink]="['/detalle', venta.id]" class="btn btn-primary">
              <i class="bi bi-search"></i>
            </a>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="!loading && historial.length === 0" class="alert alert-warning">
      No se encontraron pedidos en el historial.
    </div>
  </div>
</main>
